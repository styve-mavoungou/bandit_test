{% extends "base.html" %}
{% block content %}
<div class="col-md-8 mx-auto">
    <h2 class="display-4 text-primary text-center mb-4">Recherche d'étudiant</h2>
    <form method="POST" class="form-inline justify-content-center mb-3">
        <input type="text" name="query" class="form-control mr-2" placeholder="Nom" value="{{ query }}">
        <button type="submit" class="btn btn-primary btn-lg">Rechercher</button>
    </form>
    {% if results %}
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for student in results %}
            <tr>
                <td>{{ student.name }}</td>
                <td>{{ student.email }}</td>
                <td>
                    <a href="{{ url_for('edit_student', id=student.id) }}" class="btn btn-sm btn-primary">Modifier</a>
                    <a href="{{ url_for('delete_student', id=student.id) }}" class="btn btn-sm btn-danger">Supprimer</a>
                    <a href="{{ url_for('student_detail', id=student.id) }}" class="btn btn-sm btn-info">Détails</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% elif query %}
    <p class="lead text-center">Aucun résultat trouvé.</p>
    {% endif %}
</div>
{% endblock %}
